diff --git a/debian/control b/debian/control
index 0c12e39..ecc8aac 100644
--- a/debian/control
+++ b/debian/control
@@ -6,6 +6,7 @@ XSBC-Original-Maintainer: Debian X Strike Force <debian-x@lists.debian.org>
 Uploaders: Cyril Brulebois <kibi@debian.org>
 Standards-Version: 3.8.4
 Build-Depends:
+ libtool,
  debhelper (>= 8.1.3),
  quilt (>= 0.40),
  pkg-config,
@@ -530,6 +531,7 @@ Pre-Depends: dpkg (>= 1.15.6~),
 Depends:
  ${shlibs:Depends},
  ${misc:Depends}
+Recommends: libtxc-dxtn0
 Suggests: libglide3
 Conflicts: xlibmesa-dri (<< 1:7.0.0)
 Replaces: xlibmesa-dri (<< 1:7.0.0), libgl1-mesa-dri-experimental (<< 7.11.1)

diff --git a/debian/libgles2-mesa-dev.install.in b/debian/libgles2-mesa-dev.install.in
index 981c491..e7d4422 100644
--- a/debian/libgles2-mesa-dev.install.in
+++ b/debian/libgles2-mesa-dev.install.in
@@ -1,3 +1,4 @@
 dri/usr/lib/${DEB_HOST_MULTIARCH}/libGLESv2.so usr/lib/${DEB_HOST_MULTIARCH}/mesa-egl
 dri/usr/include/GLES2 usr/include
+dri/usr/include/GLES3 usr/include
 dri/usr/lib/${DEB_HOST_MULTIARCH}/pkgconfig/glesv2.pc usr/lib/${DEB_HOST_MULTIARCH}/pkgconfig

diff --git a/debian/rules b/debian/rules
index 0c37440..e573036 100755
--- a/debian/rules
+++ b/debian/rules
@@ -236,7 +236,7 @@ binary-arch: install
 	# purge .la files
 	find debian/tmp/ -name '*.la' -exec rm '{}' ';'
 
-	dh_install -s --fail-missing
+	dh_install -s --list-missing
 
 	# Create an ld.so.conf which says where to find libGL from Mesa
 	echo "/usr/lib/$(DEB_HOST_MULTIARCH)/mesa" \
@@ -273,11 +273,11 @@ ifeq (,$(filter sparc sparc64,$(DEB_HOST_ARCH)))
 	# proprietary alternatives can't make more difficultâ€¦
 	set -e ; for PACKAGE in \
 		libegl1-mesa libgles1-mesa libgles2-mesa libopenvg1-mesa ; do \
-			dh_makeshlibs -p$$PACKAGE -- -c4 \
+			dh_makeshlibs -p$$PACKAGE -- -c1 \
 			-edebian/$$PACKAGE/usr/lib/$(DEB_HOST_MULTIARCH)/mesa-egl/\* \
 		; done
 
-	dh_makeshlibs -s --remaining-packages -- -c4
+	dh_makeshlibs -s --remaining-packages -- -c1
 else
 	# Temporarily work around FTBFS on sparc, ignore new symbols:
 	dh_makeshlibs -s -- -c1

diff --git a/debian/patches/100_no_abi_tag.patch b/debian/patches/100_no_abi_tag.patch
index 36e97a8..584a2c4 100644
--- a/debian/patches/100_no_abi_tag.patch
+++ b/debian/patches/100_no_abi_tag.patch
@@ -2,43 +2,43 @@
 +++ b/src/mapi/glapi/gen/gl_x86-64_asm.py
 @@ -181,19 +181,6 @@
  
- 	def printRealFooter(self):
- 		print ''
--		print '#if defined(GLX_USE_TLS) && defined(__linux__)'
--		print '	.section ".note.ABI-tag", "a"'
--		print '	.p2align 2'
--		print '	.long	1f - 0f   /* name length */'
--		print '	.long	3f - 2f   /* data length */'
--		print '	.long	1         /* note length */'
--		print '0:	.asciz "GNU"      /* vendor name */'
--		print '1:	.p2align 2'
--		print '2:	.long	0         /* note data: the ABI tag */'
--		print '	.long	2,4,20    /* Minimum kernel version w/TLS */'
--		print '3:	.p2align 2        /* pad out section */'
--		print '#endif /* GLX_USE_TLS */'
--		print ''
- 		print '#if defined (__ELF__) && defined (__linux__)'
- 		print '	.section .note.GNU-stack,"",%progbits'
- 		print '#endif'
+     def printRealFooter(self):
+         print ''
+-        print '#if defined(GLX_USE_TLS) && defined(__linux__)'
+-        print '	.section ".note.ABI-tag", "a"'
+-        print '	.p2align 2'
+-        print '	.long	1f - 0f   /* name length */'
+-        print '	.long	3f - 2f   /* data length */'
+-        print '	.long	1         /* note length */'
+-        print '0:	.asciz "GNU"      /* vendor name */'
+-        print '1:	.p2align 2'
+-        print '2:	.long	0         /* note data: the ABI tag */'
+-        print '	.long	2,4,20    /* Minimum kernel version w/TLS */'
+-        print '3:	.p2align 2        /* pad out section */'
+-        print '#endif /* GLX_USE_TLS */'
+-        print ''
+         print '#if defined (__ELF__) && defined (__linux__)'
+         print '	.section .note.GNU-stack,"",%progbits'
+         print '#endif'
 --- a/src/mapi/glapi/gen/gl_x86_asm.py
 +++ b/src/mapi/glapi/gen/gl_x86_asm.py
 @@ -189,19 +189,6 @@
- 		print '\t\tALIGNTEXT16'
- 		print 'GLNAME(gl_dispatch_functions_end):'
- 		print ''
--		print '#if defined(GLX_USE_TLS) && defined(__linux__)'
--		print '	.section ".note.ABI-tag", "a"'
--		print '	.p2align 2'
--		print '	.long	1f - 0f   /* name length */'
--		print '	.long	3f - 2f   /* data length */'
--		print '	.long	1         /* note length */'
--		print '0:	.asciz "GNU"      /* vendor name */'
--		print '1:	.p2align 2'
--		print '2:	.long	0         /* note data: the ABI tag */'
--		print '	.long	2,4,20    /* Minimum kernel version w/TLS */'
--		print '3:	.p2align 2        /* pad out section */'
--		print '#endif /* GLX_USE_TLS */'
--		print ''
- 		print '#if defined (__ELF__) && defined (__linux__)'
- 		print '	.section .note.GNU-stack,"",%progbits'
- 		print '#endif'
+         print '\t\tALIGNTEXT16'
+         print 'GLNAME(gl_dispatch_functions_end):'
+         print ''
+-        print '#if defined(GLX_USE_TLS) && defined(__linux__)'
+-        print '	.section ".note.ABI-tag", "a"'
+-        print '	.p2align 2'
+-        print '	.long	1f - 0f   /* name length */'
+-        print '	.long	3f - 2f   /* data length */'
+-        print '	.long	1         /* note length */'
+-        print '0:	.asciz "GNU"      /* vendor name */'
+-        print '1:	.p2align 2'
+-        print '2:	.long	0         /* note data: the ABI tag */'
+-        print '	.long	2,4,20    /* Minimum kernel version w/TLS */'
+-        print '3:	.p2align 2        /* pad out section */'
+-        print '#endif /* GLX_USE_TLS */'
+-        print ''
+         print '#if defined (__ELF__) && defined (__linux__)'
+         print '	.section .note.GNU-stack,"",%progbits'
+         print '#endif'

diff --git a/debian/patches/101_ubuntu_hidden_glname.patch b/debian/patches/101_ubuntu_hidden_glname.patch
index be16da9..8e70ee8 100644
--- a/debian/patches/101_ubuntu_hidden_glname.patch
+++ b/debian/patches/101_ubuntu_hidden_glname.patch
@@ -1,10 +1,10 @@
 --- a/src/mapi/glapi/gen/gl_x86_asm.py
 +++ b/src/mapi/glapi/gen/gl_x86_asm.py
 @@ -176,7 +176,6 @@
- 		print ''
- 		print '\t\tALIGNTEXT16'
- 		print '\t\tGLOBL GLNAME(gl_dispatch_functions_start)'
--		print '\t\tHIDDEN(GLNAME(gl_dispatch_functions_start))'
- 		print 'GLNAME(gl_dispatch_functions_start):'
- 		print ''
- 		return
+         print ''
+         print '\t\tALIGNTEXT16'
+         print '\t\tGLOBL GLNAME(gl_dispatch_functions_start)'
+-        print '\t\tHIDDEN(GLNAME(gl_dispatch_functions_start))'
+         print 'GLNAME(gl_dispatch_functions_start):'
+         print ''
+         return

diff --git a/src/mesa/sources.mak b/src/mesa/sources.mak
index dabddf2..7d83657 100644
--- a/src/mesa/sources.mak
+++ b/src/mesa/sources.mak
@@ -341,6 +341,9 @@ MESA_GALLIUM_FILES = \
 	$(VBO_FILES)		\
 	$(STATETRACKER_FILES)	\
 	$(PROGRAM_FILES)	\
+	$(SWRAST_FILES)		\
+	$(SWRAST_SETUP_FILES)	\
+	$(COMMON_DRIVER_FILES)	\
 	$(SRCDIR)x86/common_x86.c
 
 MESA_GALLIUM_CXX_FILES = \
